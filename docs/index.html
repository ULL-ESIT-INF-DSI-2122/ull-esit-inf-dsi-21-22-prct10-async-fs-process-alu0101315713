<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p7</title><meta name="description" content="Documentation for p7"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p7</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> p7</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#autor-felipe-gómez-fuentes" id="autor-felipe-gómez-fuentes" style="color: inherit; text-decoration: none;">
  <h1>Autor: Felipe Gómez Fuentes</h1>
</a>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713/actions/workflows/coverall.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713/actions/workflows/coverall.yml/badge.svg" alt="Coveralls"></a> <a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713/actions/workflows/node.js.yml/badge.svg" alt="Test"></a> <a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713&metric=alert_status" alt="Quality Gate Status"></a></p>
<ul>
<li><a href="#autor-felipe-g%C3%B3mez-fuentes">Autor: Felipe Gómez Fuentes</a></li>
<li><a href="#0-github-pages">0. Github Pages</a></li>
<li><a href="#1-pr%C3%A1ctica-9---aplicaci%C3%B3n-de-procesamiento-de-notas-de-texto">1. Práctica 9 - Aplicación de procesamiento de notas de texto.</a></li>
<li><a href="#2-tareas-previas">2. Tareas Previas.</a></li>
<li><a href="#3-para-empezar">3. Para empezar.</a></li>
<li><a href="#4-aplicaci%C3%B3n">4. Aplicación</a><ul>
<li><a href="#41---clase-nota">4.1 - Clase Nota</a></li>
</ul>
</li>
<li><a href="#42---uso-de-yargs-y-chalk">4.2 - Uso de yargs y chalk</a></li>
<li><a href="#5-conclusiones">5. Conclusiones</a></li>
<li><a href="#6-bibliograf%C3%ADa">6. Bibliografía</a></li>
</ul>

<a href="#0-github-pages" id="0-github-pages" style="color: inherit; text-decoration: none;">
  <h1>0. Github Pages</h1>
</a>
<ul>
<li>Si desea verlo en Pages, consulte <a href="https://ull-esit-inf-dsi-2122.github.io/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713/">aquí</a>.</li>
</ul>

<a href="#1-práctica-9---aplicación-de-procesamiento-de-notas-de-texto" id="1-práctica-9---aplicación-de-procesamiento-de-notas-de-texto" style="color: inherit; text-decoration: none;">
  <h1>1. Práctica 9 - Aplicación de procesamiento de notas de texto.</h1>
</a>
<ul>
<li>En este <a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101315713">repositorio</a> donde haré un resumen haciendo una descripción de todos los pasos para el procedimiento de esta práctica. La práctica consiste en hacer una serie de ejercicios siguiendo la <a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-project-setup.html">estructura básica de proyecto</a> que se vio en clase, incluyendo todos los dichos archivos en el directorio <a href="src/">src</a> que contiene la aplicación.</li>
</ul>

<a href="#2-tareas-previas" id="2-tareas-previas" style="color: inherit; text-decoration: none;">
  <h1>2. Tareas Previas.</h1>
</a>
<ul>
<li>Para empezar es necesario realizar antes una serie de tareas previas que nos van a permitir tener las bases para poder configurar un entorno de trabajo adecuado de cara a la realización del informe, por ejemplo haber realizado la Práctica 1, que puede revisar <a href="https://ull-esit-inf-dsi-2122.github.io/ull-esit-inf-dsi-21-22-prct01-iaas-alu0101315713/">aquí</a>, tener leído y aprendido los conocimientos necesarios sobre <a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">Markdown</a>, <a href="https://jekyllrb.com/">Jekyll</a> y <a href="https://lab.github.com/githubtraining/github-pages">GitHub Pages</a>, además de la lectura de los tutoriales <a href="https://www.w3schools.com/js/js_string_methods.asp">sobre los métodos que puede utilizar con string</a> y sobre <a href="https://www.w3schools.com/js/js_regexp.asp">expresiones regulares en JavaScript</a>, los <a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-arrays-tuples-enums.html">apuntes de Arrays, tuplas y enumerados</a>, los <a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-objects-classes-interfaces.html">apuntes de Objetos, clases e interfaces</a> documentación en <a href="https://typedoc.org/">Typedoc</a>, hacer pruebas unitarias con <a href="https://mochajs.org/">Mocha</a>, <a href="https://www.chaijs.com/">Chai</a>, <a href="https://coveralls.io/">Coveralls</a> para la correcta elaboración del mismo y <a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-solid.html">Principios SOLID</a> para escribir código más limpio. A continuación se mostrará una tabla con las tareas previas realizadas (en mi caso):</li>
</ul>
<table>
<thead>
<tr>
<th>Tareas Previas Realizadas.</th>
</tr>
</thead>
<tbody><tr>
<td>- Aceptar la asignación de GitHub Classroom asociada a esta práctica.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Markdown, pues es el lenguaje para escribir las prácticas.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Jekyll, para transformar los ficheros de texto en sitios Web.</td>
</tr>
<tr>
<td>- Leer los recursos sobre GitHub Pages, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Strings, por si se necesita algún concepto para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Arrays, tuplas y enumerados, por si se necesita algún concepto para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Objetos, clases e interfaces, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre TypeDoc, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Mocha, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Chai, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre Coverall, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre node, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre el manejo de ficheros en node, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre SOLID, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre yargs, por si se necesita algún curso para aprender.</td>
</tr>
<tr>
<td>- Leer los recursos sobre chalk, por si se necesita algún curso para aprender.</td>
</tr>
</tbody></table>

<a href="#3-para-empezar" id="3-para-empezar" style="color: inherit; text-decoration: none;">
  <h1>3. Para empezar.</h1>
</a>
<ul>
<li>Los ejercicios deben de cumplir la <a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-project-setup.html">estructura básica de proyecto</a> mencionada anteriormente, e incluiremos la aplicación en el directorio <a href="src/">./src</a>. Una vez instaladas las dependencias de Mocha, Chai, Coveralls, TypeDoc, node, yargs y chalk se deberá de hacer la documentación de TypeDoc en la carpeta <a href="docs/">./docs</a> y la metodología TDD en la carpeta <a href="tests/">./tests</a>.</li>
</ul>

<a href="#4-aplicación" id="4-aplicación" style="color: inherit; text-decoration: none;">
  <h1>4. Aplicación</h1>
</a>

<a href="#41---clase-nota" id="41---clase-nota" style="color: inherit; text-decoration: none;">
  <h2>4.1 - Clase Nota</h2>
</a>
<ul>
<li><p>La clase Nota crea un objeto con los atributos que nos indica en enunciado: titulo, cuerpo y color, además, añadí un atributo extra id, que se puede poner o no, y que puede servir más adelante.</p>
<pre><code class="language-ts"><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-2">libroNotas</span><span class="hl-1">: </span><span class="hl-0">Nota</span><span class="hl-1">[] = [];</span><br/><span class="hl-3">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">titulo</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">cuerpo</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">id</span><span class="hl-1">?: </span><span class="hl-0">number</span><span class="hl-1">,</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-3">saveNotas</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">libroNotas</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
</li>
<li><p>Luego añadí funciones públicas para mayor comodidad a la hora de acceder los atributos:</p>
<pre><code class="language-ts"><span class="hl-3">getTitulo</span><span class="hl-1">(): </span><span class="hl-0">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">titulo</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">getCuerpo</span><span class="hl-1">(): </span><span class="hl-0">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cuerpo</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">getColor</span><span class="hl-1">(): </span><span class="hl-0">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">getId</span><span class="hl-1">(): </span><span class="hl-0">number</span><span class="hl-1">|</span><span class="hl-4">undefined</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">setTitulo</span><span class="hl-1">(</span><span class="hl-0">titulo</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">titulo</span><span class="hl-1"> = </span><span class="hl-0">titulo</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">setCuerpo</span><span class="hl-1">(</span><span class="hl-0">cuerpo</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cuerpo</span><span class="hl-1"> = </span><span class="hl-0">cuerpo</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">setColor</span><span class="hl-1">(</span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">setId</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-0">number</span><span class="hl-1">): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> = </span><span class="hl-0">id</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
</li>
<li><p>Además, hice los métodos <code>saveNotas</code>, <code>getNotas</code> y <code>deleteNota</code>, siendo éstos dos últimos métodos estáticos pars que no den problemas a la hora de recorrer arrays de objetos de tipo Nota:</p>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-1">  </span><span class="hl-3">saveNotas</span><span class="hl-1">(</span><span class="hl-0">notas</span><span class="hl-1">: </span><span class="hl-0">Nota</span><span class="hl-1">[]): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">notas</span><span class="hl-1">.</span><span class="hl-3">push</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">static</span><span class="hl-1"> </span><span class="hl-3">getNotas</span><span class="hl-1">(</span><span class="hl-0">notas</span><span class="hl-1">: </span><span class="hl-0">Nota</span><span class="hl-1">[]): </span><span class="hl-0">Nota</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">notas</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">static</span><span class="hl-1"> </span><span class="hl-3">deleteNota</span><span class="hl-1">(</span><span class="hl-0">nota</span><span class="hl-1">: </span><span class="hl-0">Nota</span><span class="hl-1">): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1"> = </span><span class="hl-0">nota</span><span class="hl-1">.</span><span class="hl-0">libroNotas</span><span class="hl-1">.</span><span class="hl-3">indexOf</span><span class="hl-1">(</span><span class="hl-0">nota</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">nota</span><span class="hl-1">.</span><span class="hl-0">libroNotas</span><span class="hl-1">.</span><span class="hl-3">splice</span><span class="hl-1">(</span><span class="hl-0">index</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#42---uso-de-yargs-y-chalk" id="42---uso-de-yargs-y-chalk" style="color: inherit; text-decoration: none;">
  <h1>4.2 - Uso de yargs y chalk</h1>
</a>
<ul>
<li><p>Para añadir los comandos a la aplicación, hay que hacer uso de yargs. Como vamos a crear, leer, modificar y eliminar ficheros (en este caso de tipo JSON), también usaremos la librería fs.</p>
</li>
<li><p>De tal forma que, para el primer comando, se hizo de esta forma:
```ts
import * as yargs from &#39;yargs&#39;;
import * as fs from &#39;fs&#39;;
import {Nota} from &#39;./notas&#39;;
import chalk from &#39;chalk&#39;;</p>
</li>
</ul>
<p>yargs.command({
  command: &#39;add&#39;,
  describe: &#39;Add a new note&#39;,
  builder: {
    user: {
      describe: &#39;User name&#39;,
      demandOption: true,
      type: &#39;string&#39;,
    },
    title: {
      describe: &#39;Note title&#39;,
      demandOption: true,
      type: &#39;string&#39;,
    },
    body: {
      describe: &#39;Note body&#39;,
      demandOption: true,
      type: &#39;string&#39;,
    },
    color: {
      describe: &#39;Note color&#39;,
      demandOption: true,
      type: &#39;string&#39;,
    },
  },</p>
<pre><code><span class="hl-1">- </span><span class="hl-0">En</span><span class="hl-1"> </span><span class="hl-0">esta</span><span class="hl-1"> </span><span class="hl-0">parte</span><span class="hl-1">, </span><span class="hl-0">se</span><span class="hl-1"> </span><span class="hl-0">puede</span><span class="hl-1"> </span><span class="hl-0">ver</span><span class="hl-1"> </span><span class="hl-0">que</span><span class="hl-1"> </span><span class="hl-0">para</span><span class="hl-1"> </span><span class="hl-0">el</span><span class="hl-1"> </span><span class="hl-0">uso</span><span class="hl-1"> </span><span class="hl-0">del</span><span class="hl-1"> </span><span class="hl-0">comando</span><span class="hl-1">, </span><span class="hl-0">se</span><span class="hl-1"> </span><span class="hl-0">hará</span><span class="hl-1"> </span><span class="hl-0">del</span><span class="hl-1"> </span><span class="hl-0">estilo</span><span class="hl-1"> </span><span class="hl-8">`add --user=&quot;nombre usuario --title=&quot;titulo de la nota&quot; --body=&quot;mensaje de la nota&quot; --color=&quot;color de la nota&quot;`</span><span class="hl-1">. </span><span class="hl-0">Además</span><span class="hl-1">, </span><span class="hl-0">la</span><span class="hl-1"> </span><span class="hl-0">información</span><span class="hl-1"> </span><span class="hl-0">de</span><span class="hl-1"> </span><span class="hl-0">la</span><span class="hl-1"> </span><span class="hl-0">descripción</span><span class="hl-1"> </span><span class="hl-0">de</span><span class="hl-1"> </span><span class="hl-0">cada</span><span class="hl-1"> </span><span class="hl-0">atributo</span><span class="hl-1"> </span><span class="hl-0">aparecerá</span><span class="hl-1"> </span><span class="hl-0">al</span><span class="hl-1"> </span><span class="hl-0">usar</span><span class="hl-1"> </span><span class="hl-0">el</span><span class="hl-1"> </span><span class="hl-0">comando</span><span class="hl-1"> </span><span class="hl-8">`help`</span><span class="hl-1"> </span><span class="hl-0">que</span><span class="hl-1"> </span><span class="hl-0">ofrece</span><span class="hl-1"> </span><span class="hl-0">yarg</span><span class="hl-1"> </span><span class="hl-0">por</span><span class="hl-1"> </span><span class="hl-3">defecto</span><span class="hl-1"> (</span><span class="hl-0">también</span><span class="hl-1"> </span><span class="hl-0">cuando</span><span class="hl-1"> </span><span class="hl-0">se</span><span class="hl-1"> </span><span class="hl-0">emplea</span><span class="hl-1"> </span><span class="hl-0">erróneamente</span><span class="hl-1"> </span><span class="hl-0">el</span><span class="hl-1"> </span><span class="hl-0">comando</span><span class="hl-1">). </span><span class="hl-0">Por</span><span class="hl-1"> </span><span class="hl-0">último</span><span class="hl-1">, </span><span class="hl-0">también</span><span class="hl-1"> </span><span class="hl-0">sale</span><span class="hl-1"> </span><span class="hl-0">el</span><span class="hl-1"> </span><span class="hl-0">tipo</span><span class="hl-1"> </span><span class="hl-0">de</span><span class="hl-1"> </span><span class="hl-0">dato</span><span class="hl-1"> </span><span class="hl-0">para</span><span class="hl-1"> </span><span class="hl-0">cada</span><span class="hl-1"> </span><span class="hl-0">atributo</span><span class="hl-1">.</span><br/><br/><span class="hl-8">```ts</span><br/><span class="hl-8">handler(argv) {</span><br/><span class="hl-8">    if (typeof argv.title === &#39;string&#39; &amp;&amp; typeof argv.body === &#39;string&#39; &amp;&amp;</span><br/><span class="hl-8">    typeof argv.color === &#39;string&#39; &amp;&amp; typeof argv.user === &#39;string&#39;) {</span><br/><span class="hl-8">      // Required logic to add a new note</span><br/><span class="hl-8">      const nota = new Nota(argv.title, argv.body, argv.color);</span><br/><span class="hl-8">      if (`</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">notas</span><span class="hl-1">/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">}/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">title</span><span class="hl-1">}</span><span class="hl-8">.</span><span class="hl-3">json</span><span class="hl-8">`) {</span><br/><span class="hl-8">        console.log(chalk.red(`</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">notas</span><span class="hl-1">/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">}/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">title</span><span class="hl-1">} </span><span class="hl-0">already</span><span class="hl-1"> </span><span class="hl-0">exists</span><span class="hl-1">!</span><span class="hl-8">`));</span><br/><span class="hl-8">      } else {</span><br/><span class="hl-8">        fs.mkdir(`</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">notas</span><span class="hl-1">/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">}</span><span class="hl-8">`, (err) =&gt; {</span><br/><span class="hl-8">          if (`</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">notas</span><span class="hl-1">/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">}</span><span class="hl-8">`) {</span><br/><span class="hl-8">            fs.writeFile(`</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">notas</span><span class="hl-1">/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">}/</span><span class="hl-0">$</span><span class="hl-1">{</span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">title</span><span class="hl-1">}</span><span class="hl-8">.</span><span class="hl-3">json</span><span class="hl-8">`, JSON.stringify(nota), (err) =&gt; {</span><br/><span class="hl-8">              if (err) {</span><br/><span class="hl-8">                console.log(chalk.red(err));</span><br/><span class="hl-8">              } else {</span><br/><span class="hl-8">                console.log(chalk.green(&#39;Note added successfully&#39;));</span><br/><span class="hl-8">              }</span><br/><span class="hl-8">            });</span><br/><span class="hl-8">          } else {</span><br/><span class="hl-8">            console.log(chalk.red(err));</span><br/><span class="hl-8">          }</span><br/><span class="hl-8">        });</span><br/><span class="hl-8">      }</span><br/><span class="hl-8">    }</span><br/><span class="hl-8">  },</span><br/><span class="hl-8">});</span>
</code></pre>
<ul>
<li><p>En esta otra parte del código para el <code>add</code> se recogen los atributos, se revisa el tipo de dato que se escribe, y creamos el objeto Nota con los atributos dados. Una vez creado se revisa si la nota ya existe, en caso de que ya exista, saldrá un mensaje en rojo <code>indicando que ya existe</code>. En caso contrario, crea el JSON haciendo uso de las funcines mkdir y writeFile propias de la librería fs. Con <code>mkdir</code> creamos el directorio para el usuario, en caso de que ya exista, no pasará nada. Una vez creado hacemos uso del writeFile para crear el archivo y escribir lo que el usuario quiera en forma de JSON.</p>
</li>
<li><p>Para el resto de comandos, la parte de <code>yargs.command</code> es bastante similar, así que iremos viendo la parte de <code>handler(argv)</code> que es donde realmente varía el código.</p>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-3">handler</span><span class="hl-1">(</span><span class="hl-0">argv</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">title</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// Required logic to remove a note</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-3">unlink</span><span class="hl-1">(</span><span class="hl-8">`src/notas/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">user</span><span class="hl-4">}</span><span class="hl-8">/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">title</span><span class="hl-4">}</span><span class="hl-8">.json`</span><span class="hl-1">, (</span><span class="hl-0">err</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">(</span><span class="hl-8">&#39;Something went wrong when writing your file&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">green</span><span class="hl-1">(</span><span class="hl-8">&#39;File removed successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span>
</code></pre>
<ul>
<li>En este caso, el comando <code>remove</code> tiene como argumentos el nombre de usuario y el título de la nota. Con la función <code>unlink</code> eliminará el contenido seleccionado por argumento que se encuentre en el directorio. Esta función solo será útil si el directorio tiene contenido, por eso tanto en este comando como en todos, hago condiciones también para que en los errores salga un mensaje de error.</li>
</ul>
<pre><code class="language-ts"><span class="hl-3">handler</span><span class="hl-1">(</span><span class="hl-0">argv</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// Required logic to list all notes</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-3">readdir</span><span class="hl-1">(</span><span class="hl-8">`src/notas/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">user</span><span class="hl-4">}</span><span class="hl-8">`</span><span class="hl-1">, (</span><span class="hl-0">err</span><span class="hl-1">, </span><span class="hl-0">files</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">(</span><span class="hl-8">&#39;Something went wrong when reading your file&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-8">&#39;List of notes:&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">files</span><span class="hl-1">.</span><span class="hl-3">forEach</span><span class="hl-1">((</span><span class="hl-0">file</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-3">readFile</span><span class="hl-1">(</span><span class="hl-8">`src/notas/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">user</span><span class="hl-4">}</span><span class="hl-8">/</span><span class="hl-4">${</span><span class="hl-0">file</span><span class="hl-4">}</span><span class="hl-8">`</span><span class="hl-1">, </span><span class="hl-8">&#39;utf8&#39;</span><span class="hl-1">, (</span><span class="hl-0">err</span><span class="hl-1">, </span><span class="hl-0">data</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">err</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">((</span><span class="hl-8">&#39;Something went wrong when reading your file&#39;</span><span class="hl-1">)));</span><br/><span class="hl-1">              } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">obj</span><span class="hl-1"> = </span><span class="hl-11">JSON</span><span class="hl-1">.</span><span class="hl-3">parse</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">());</span><br/><span class="hl-1">                </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-8">&#39;rojo&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">titulo</span><span class="hl-1">));</span><br/><span class="hl-1">                    </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">                  </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-8">&#39;verde&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">green</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">titulo</span><span class="hl-1">));</span><br/><span class="hl-1">                    </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">                  </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-8">&#39;azul&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">blue</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">titulo</span><span class="hl-1">));</span><br/><span class="hl-1">                    </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">                  </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-8">&#39;amarillo&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">yellow</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">titulo</span><span class="hl-1">));</span><br/><span class="hl-1">                    </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">                  </span><span class="hl-9">// default:</span><br/><span class="hl-1">                  </span><span class="hl-9">//   console.log(obj.titulo);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span>
</code></pre>
<ul>
<li>Para el comando <code>list</code>, solo busco el nombre del usuario, con esta información hago uso de la función <code>readdir</code> para leer el directorio, y un forEach para revisar todos los ficheros del directorio (que siempre tendrá el nombre del usuario) con la función ``readFile`, que junto a un switch que revisa el atributo &quot;color&quot; de cada nota, indico haciendo uso de chalk el nombre de cada archivo del color que tenga como atributo. Encaso de existir algún error, saldrá un aviso en rojo.</li>
</ul>
<pre><code class="language-ts"><span class="hl-1">  </span><span class="hl-3">handler</span><span class="hl-1">(</span><span class="hl-0">argv</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">title</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// Required logic to read a note</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-3">readFile</span><span class="hl-1">(</span><span class="hl-8">`src/notas/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">user</span><span class="hl-4">}</span><span class="hl-8">/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">title</span><span class="hl-4">}</span><span class="hl-8">.json`</span><span class="hl-1">, (</span><span class="hl-0">err</span><span class="hl-1">, </span><span class="hl-0">data</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">obj</span><span class="hl-1"> = </span><span class="hl-11">JSON</span><span class="hl-1">.</span><span class="hl-3">parse</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">());</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">(</span><span class="hl-8">&#39;Something went wrong when reading your file&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">green</span><span class="hl-1">(</span><span class="hl-8">&#39;El mensaje de la nota es:&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">cuerpo</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span>
</code></pre>
<ul>
<li>Para el comando read, pido el nombre de usuario y el título de la nota, para poder hacer uso de <code>readFile</code> en las notas y así mostrar el contenido de la nota. En caso de error, saldrá un mensaje indicándolo.</li>
</ul>
<pre><code class="language-ts"><span class="hl-3">handler</span><span class="hl-1">(</span><span class="hl-0">argv</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">title</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">body</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">    </span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> === </span><span class="hl-8">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// Required logic to modify a note</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-3">readFile</span><span class="hl-1">(</span><span class="hl-8">`src/notas/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">user</span><span class="hl-4">}</span><span class="hl-8">/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">title</span><span class="hl-4">}</span><span class="hl-8">.json`</span><span class="hl-1">, </span><span class="hl-8">&#39;utf8&#39;</span><span class="hl-1">, (</span><span class="hl-0">err</span><span class="hl-1">, </span><span class="hl-0">data</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">(</span><span class="hl-8">&#39;Something went wrong when reading your file&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">obj</span><span class="hl-1"> = </span><span class="hl-11">JSON</span><span class="hl-1">.</span><span class="hl-3">parse</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">());</span><br/><span class="hl-1">          </span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">cuerpo</span><span class="hl-1"> = </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">body</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">argv</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-3">writeFile</span><span class="hl-1">(</span><span class="hl-8">`src/notas/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">user</span><span class="hl-4">}</span><span class="hl-8">/</span><span class="hl-4">${</span><span class="hl-0">argv</span><span class="hl-10">.</span><span class="hl-0">title</span><span class="hl-4">}</span><span class="hl-8">.json`</span><span class="hl-1">, </span><span class="hl-11">JSON</span><span class="hl-1">.</span><span class="hl-3">stringify</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">), (</span><span class="hl-0">err</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">err</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">red</span><span class="hl-1">(</span><span class="hl-8">&#39;Something went wrong when writing your file&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">            } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-3">green</span><span class="hl-1">(</span><span class="hl-8">&#39;Note modified successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span>
</code></pre>
<ul>
<li><p>Para el comando modify, se piden todos los atributos se hace uso de la función <code>readFile</code>, se comprueba si existe, en caso de que no, slata un mensaje de error, en cas ode que sí, se guarda el objeto del JSON y se reescriben los atributos que le pasa el usuario, que solo pueden ser el mensaje y el color, por último se hace uso de <code>writeFile</code> y se escribe.</p>
</li>
<li><p><strong>Por último, para que los comandos funcionen, se debe de escribir esta línea:</strong></p>
<pre><code class="language-ts"><span class="hl-0">yargs</span><span class="hl-1">.</span><span class="hl-3">parse</span><span class="hl-1">();</span>
</code></pre>
</li>
</ul>

<a href="#5-conclusiones" id="5-conclusiones" style="color: inherit; text-decoration: none;">
  <h1>5. Conclusiones</h1>
</a>
<ul>
<li><p>Los ejercicios han servido como repaso sobre cómo usar las funciones de las strings, el uso de los arrays, tuplas y los enumerados en TypeScript. Hay que tener en cuenta que, para las pruebas TDD, primero hay que tener bien instalado Mocha y Chai, y bien escrito el archivo <code>.mocharc.json</code>, que siguiendo este <a href="https://drive.google.com/file/d/1-z1oNOZP70WBDyhaaUijjHvFtqd6eAmJ/view">vídeo</a> tendría que quedar algo similar o igual a <a href="./.mocharc.json">esto</a>.</p>
</li>
<li><p>Para el caso de TypeDoc, es necesario, aparte de tener las dependencias instaladas, seguir este <a href="https://drive.google.com/file/d/19LLLCuWg7u0TjjKz9q8ZhOXgbrKtPUme/view">vídeo</a> como ayuda fundamental a tenerlo bien instalado.</p>
</li>
<li><p>También es interesante el uso de la herramienta Coverall que nos informa los archivos con código fuente en Typescript que se han analizado y que se sacan del fichero <a href="./.mocharc.json">.mocharc.json</a>. Coverall nos indica el cubrimiento que le damos a las funciones, la líneas que no están cubiertas y cuánto % se cubre de las sentencias y las ramas. Para saber instalarlo una buena opción es ver este <a href="https://drive.google.com/file/d/1xLDc4CpoYpsAlCFO_4DMwu7MKCtcZDnh/view">vídeo</a>.</p>
</li>
<li><p>En mi caso Coveralls me da un resultado que se puede consultar entrando en este 94.44%.
```ts</p>
</li>
</ul>
<p>--
All files |   94.44 |      100 |   91.66 |   94.44 |</p>
<table>
<thead>
<tr>
<th>notas.ts</th>
<th>94.44</th>
<th>100</th>
<th>91.66</th>
<th>94.44</th>
<th>35</th>
</tr>
</thead>
</table>
<p>```</p>
<ul>
<li><p>Otro factor bastante importante fue hacer uso de los <a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-solid.html">Principios SOLID</a>, que fue clave para hacer clases específicas pra métodos específicos, estos principios se usaron en toda la práctica, por ejemplo, en <a href="./src/notas.ts">nota</a>.</p>
</li>
<li><p>La librería fs ha sido bastante clave para poder manejar los ficheros de manera asíncrona, como se ha explicado en los puntos anteriores.</p>
</li>
<li><p>Se puede observar que se ha usado las funciones de chalk para imprimir mensajes de colores en todas las funciones. Saldrá verde en caso de que se ejecute correctamente, en rojo de que haya algún fallo, y en el caso del comando <code>list</code>, si se ejecuta correctamente, saldrá el nombre de la(s) nota(s) del color que tengan como atributo.</p>
</li>
<li><p>Para poder hacer buen uso del SonarCloud, tuvo que ser necesario <strong>no usar</strong> la última versión de node (18.0.0), sino que tuve que usar la versión <code>17.7.2</code>. De esta forma se pudo realizar tanto las pruebas de Coveralls como el scanner de SonarCloud correctamente.</p>
</li>
</ul>

<a href="#6-bibliografía" id="6-bibliografía" style="color: inherit; text-decoration: none;">
  <h1>6. Bibliografía</h1>
</a>
<ol>
<li><a href="https://ull-esit-inf-dsi-2122.github.io/prct09-filesystem-notes-app/">Enunciado Práctica 5</a></li>
<li><a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">Introducción a Markdown</a></li>
<li><a href="https://docs.github.com/en/pages">Recurso sobre GitHub Pages</a></li>
<li><a href="https://jekyllrb.com/">Página web de Jekyll</a></li>
<li><a href="https://www.w3schools.com/js/js_string_methods.asp">Tutorial métodos con strings</a></li>
<li><a href="https://www.w3schools.com/js/js_regexp.asp">Tutorial expresiones regulares en JavaScript</a></li>
<li><a href="https://typedoc.org/">TypeDoc</a></li>
<li><a href="https://mochajs.org/">Mocha</a></li>
<li><a href="https://www.chaijs.com/">Chai</a></li>
<li><a href="https://eslint.org/">Eslint</a></li>
<li><a href="https://coveralls.io/">Coverall</a></li>
<li><a href="https://ull-esit-inf-dsi-2122.github.io/nodejs-theory/nodejs-intro.html">Apuntes de introducción a NodeJS</a></li>
<li><a href="https://ull-esit-inf-dsi-2122.github.io/nodejs-theory/nodejs-filesystem.html">Apuntes del sistema de ficheros en NodeJS</a></li>
<li><a href="https://ull-esit-inf-dsi-2122.github.io/typescript-theory/typescript-solid.html">Principios SOLID</a></li>
<li><a href="https://www.npmjs.com/package/yargs">yargs</a></li>
<li><a href="https://www.npmjs.com/package/chalk">chalk</a></li>
</ol>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/ejercicio2_ejercicio_2.html">ejercicio2/ejercicio-<wbr/>2</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>